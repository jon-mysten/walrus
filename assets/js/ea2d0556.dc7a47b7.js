"use strict";(globalThis.webpackChunkwalrus_docusaurus=globalThis.webpackChunkwalrus_docusaurus||[]).push([[7615],{4252(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var s=t(4520),o=t(2615),i=t(5756);let r={title:"Devnet Update",date:new Date("2024-08-12T00:00:00.000Z")},a,l={authorsImageUrls:[]},d=[{value:"Migration and Re-deployment of Walrus Sites",id:"migration-and-re-deployment-of-walrus-sites",level:2},{value:"Changes",id:"changes",level:2}];function c(e){let n={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["We have redeployed the Walrus Devnet to incorporate various improvements to the Walrus storage nodes\nand clients. In this process, all blobs stored on Walrus were wiped. Note that this may happen again\non Devnet and Testnet, but obviously ",(0,o.jsx)(n.em,{children:"not on the future Mainnet"}),"."]}),"\n","\n",(0,o.jsx)(n.h2,{id:"migration-and-re-deployment-of-walrus-sites",children:"Migration and Re-deployment of Walrus Sites"}),"\n",(0,o.jsxs)(n.p,{children:["You can obtain the latest version of the ",(0,o.jsx)(n.code,{children:"walrus"})," binary and the new configuration as described in\nthe ",(0,o.jsx)(n.a,{href:"/docs/getting-started/advanced-setup",children:"setup chapter"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["If you had deployed any Walrus Sites, the site object on Sui and any SuiNS name are still valid.\nHowever, you need to re-store all blobs on Walrus. You can achieve this by running the site-builder\ntool (from the ",(0,o.jsx)(n.code,{children:"walrus-sites"})," directory) as follows:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./target/release/site-builder --config site-builder/assets/builder-example.yaml update --force \\\n    <path to the site> <site object ID>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"changes",children:"Changes"}),"\n",(0,o.jsx)(n.p,{children:"Besides many improvements to the storage nodes, the new version of Walrus includes the following\nuser-facing changes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Improved coin management: The client now better selects coins for gas and storage fees. Users no\nlonger require multiple coins in their wallet."}),"\n",(0,o.jsx)(n.li,{children:"Improved connection management: The client now limits the number of parallel connections to\nimprove performance for users with low network bandwidth storing large blobs."}),"\n",(0,o.jsxs)(n.li,{children:["OpenAPI specification: Walrus storage nodes, aggregators, and publishers expose their API\nspecifications at the path ",(0,o.jsx)(n.code,{children:"/v1/api"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["System info in JSON: The ",(0,o.jsx)(n.code,{children:"info"})," command is now also available in JSON mode."]}),"\n",(0,o.jsxs)(n.li,{children:["Client version: The ",(0,o.jsx)(n.code,{children:"walrus"})," CLI now has a ",(0,o.jsx)(n.code,{children:"--version"})," option."]}),"\n",(0,o.jsx)(n.li,{children:"Support for the empty blob: The empty blob is now supported by Walrus."}),"\n",(0,o.jsxs)(n.li,{children:["Default configuration-file paths: The client now looks for configuration files in\n",(0,o.jsx)(n.code,{children:"~/.config/walrus"})," in addition to ",(0,o.jsx)(n.code,{children:"~/.walrus"})," and recognizes the extension ",(0,o.jsx)(n.code,{children:".yml"})," in addition to\n",(0,o.jsx)(n.code,{children:".yaml"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Home directory in paths: Paths specified in configuration files now expand the ",(0,o.jsx)(n.code,{children:"~"})," symbol at the\nbeginning to the user's home directory."]}),"\n",(0,o.jsxs)(n.li,{children:["More robust store and status check: The ",(0,o.jsx)(n.code,{children:"store"})," and ",(0,o.jsx)(n.code,{children:"blob-status"})," commands are now more robust\nagainst Sui full nodes that aggressively prune past events and against load-balancers that send\ntransactions to different full nodes."]}),"\n",(0,o.jsxs)(n.li,{children:["Fix CLI parsing: The ",(0,o.jsx)(n.code,{children:"walrus"})," CLI now properly handles hyphens in blob IDs."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"This update also increases the number of shards to 1000, which is more representative of the\nexpected value in Testnet and Mainnet."})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},4520(e){e.exports=JSON.parse('{"permalink":"/blog/02_devnet_update","source":"@site/../blog/02_devnet_update.mdx","title":"Devnet Update","description":"We have redeployed the Walrus Devnet to incorporate various improvements to the Walrus storage nodes","date":"2024-08-12T00:00:00.000Z","tags":[],"readingTime":1.91,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Devnet Update","date":"2024-08-12T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Announcing the Official Walrus Whitepaper","permalink":"/blog/03_whitepaper"}}')},5756(e,n,t){t.d(n,{R:()=>r,x:()=>a});var s=t(9471);let o={},i=s.createContext(o);function r(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);