"use strict";(globalThis.webpackChunkwalrus_docusaurus=globalThis.webpackChunkwalrus_docusaurus||[]).push([[9791],{5756(e,n,t){t.d(n,{R:()=>r,x:()=>i});var s=t(9471);let o={},a=s.createContext(o);function r(e){let n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(a.Provider,{value:n},e.children)}},8771(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var s=t(9320),o=t(2615),a=t(5756);let r={title:"Announcing Testnet v2",date:new Date("2025-01-16T00:00:00.000Z")},i,l={authorsImageUrls:[]},c=[{value:"Epoch duration",id:"epoch-duration",level:2},{value:"New features",id:"new-features",level:2},{value:"New WAL token",id:"new-wal-token",level:2},{value:"Backwards-incompatible changes",id:"backwards-incompatible-changes",level:2},{value:"Configuration files",id:"configuration-files",level:3},{value:"CLI options",id:"cli-options",level:3},{value:"HTTP APIs",id:"http-apis",level:3},{value:"Effects on and actions required for existing Walrus Sites",id:"effects-on-and-actions-required-for-existing-walrus-sites",level:2},{value:"New Move contracts &amp; documentation",id:"new-move-contracts--documentation",level:2}];function d(e){let n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["We are today redeploying the Walrus Testnet to incorporate various improvements, including some\nbackwards-incompatible changes. Make sure to get the latest binary and configuration as described\nin the ",(0,o.jsx)(n.a,{href:"/docs/getting-started/advanced-setup",children:"setup section"}),"."]}),"\n","\n",(0,o.jsx)(n.p,{children:"Note that all blob data on the previous Testnet instance has been wiped. All blobs need to be\nre-uploaded to the new Testnet instance, including Walrus Sites. In addition, there is a new version\nof the WAL token, so your previous WAL tokens will not work anymore. To use the Testnet v2, you\nneed to obtain new WAL tokens."}),"\n",(0,o.jsx)(n.p,{children:"In the following sections, we describe the notable changes and the actions required for existing\nWalrus Sites."}),"\n",(0,o.jsx)(n.h2,{id:"epoch-duration",children:"Epoch duration"}),"\n",(0,o.jsx)(n.p,{children:"The epoch duration has been increased from one day to two days to emphasize that this duration is\ndifferent from Sui epochs (at Mainnet, epochs will likely be multiple weeks long). In addition, the\nmaximum number of epochs a blob can be stored for has been reduced from 200 to 183 (corresponding\nto one year)."}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"walrus store"})," command now also supports the ",(0,o.jsx)(n.code,{children:"--epochs max"})," flag, which will store\nthe blob for the maximum number of epochs. Note that the ",(0,o.jsx)(n.code,{children:"--epochs"})," flag is now mandatory."]}),"\n",(0,o.jsx)(n.h2,{id:"new-features",children:"New features"}),"\n",(0,o.jsx)(n.p,{children:"Besides many improvements to the contracts and the storage-node service, the latest Walrus release\nalso brings several user-facing improvements."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"walrus store"})," command now supports storing multiple files at once. This is faster and more\ncost-effective compared to storing each file separately as transactions can be batched through\n",(0,o.jsx)(n.a,{href:"https://docs.sui.io/concepts/transactions/prog-txn-blocks",children:"PTBs"}),". Notably, this is compatible\nwith glob patterns offered by many shells, so you can for example run a command like ",(0,o.jsx)(n.code,{children:"walrus store *.png --epochs 100"})," to store all PNG files in the current directory."]}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"walrus"})," CLI now supports creating, funding, and extending ",(0,o.jsx)(n.em,{children:"shared blobs"})," using the ",(0,o.jsx)(n.code,{children:"walrus share"}),", ",(0,o.jsx)(n.code,{children:"walrus store --share"}),", and ",(0,o.jsx)(n.code,{children:"walrus fund-shared-blob"})," commands. Shared blobs are an\nexample of collectively managed and funded blobs. See the ",(0,o.jsx)(n.a,{href:"/docs/walrus-client/storing-blobs#shared-blobs",children:"shared blobs section"})," for more details."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"new-wal-token",children:"New WAL token"}),"\n",(0,o.jsxs)(n.p,{children:["Along with the redeployment of Walrus, we have also deployed a fresh WAL contract. This\nmeans that you cannot use any WAL token from the previous Testnet instance with the new Testnet\ninstance. You need to request new WAL tokens through the ",(0,o.jsx)(n.a,{href:"/docs/system-overview/available-networks#testnet-wal-faucet",children:"Testnet WAL faucet"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"backwards-incompatible-changes",children:"Backwards-incompatible changes"}),"\n",(0,o.jsx)(n.p,{children:"One reason for a full redeployment is to allow us to make some changes that are\nbackwards-incompatible. Many of those are related to the contracts and thus less visible to users.\nThere are, however, some changes that may affect you."}),"\n",(0,o.jsx)(n.h3,{id:"configuration-files",children:"Configuration files"}),"\n",(0,o.jsxs)(n.p,{children:["The format of the configuration files for storage nodes and clients has been changed. Make sure to\nuse the latest version of the configuration files, see the ",(0,o.jsx)(n.a,{href:"/docs/getting-started/advanced-setup#configuration",children:"configuration section"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"cli-options",children:"CLI options"}),"\n",(0,o.jsxs)(n.p,{children:["Several CLI options of the ",(0,o.jsx)(n.code,{children:"walrus"}),' CLI have been changed. Notably, all "short" variants of options\n(e.g., ',(0,o.jsx)(n.code,{children:"-e"})," instead of ",(0,o.jsx)(n.code,{children:"--epochs"}),") have been removed to prevent future confusion with new options.\nAdditionally, the ",(0,o.jsx)(n.code,{children:"--epochs"})," flag is now mandatory for the ",(0,o.jsx)(n.code,{children:"walrus store"})," command (this also affects\nthe ",(0,o.jsx)(n.a,{href:"/docs/walrus-client/json-mode",children:"JSON API"}),")."]}),"\n",(0,o.jsxs)(n.p,{children:["Please refer to the CLI help (",(0,o.jsx)(n.code,{children:"walrus --help"}),", or ",(0,o.jsx)(n.code,{children:"walrus <command> --help"}),") for further details."]}),"\n",(0,o.jsx)(n.h3,{id:"http-apis",children:"HTTP APIs"}),"\n",(0,o.jsxs)(n.p,{children:["The paths, request, and response formats of the HTTP APIs have changed for the storage nodes, and\nalso the aggregator and publisher. Please refer to the section on the ",(0,o.jsx)(n.a,{href:"/docs/http-api/storing-blobs",children:"HTTP API"})," for further details."]}),"\n",(0,o.jsx)(n.h2,{id:"effects-on-and-actions-required-for-existing-walrus-sites",children:"Effects on and actions required for existing Walrus Sites"}),"\n",(0,o.jsxs)(n.p,{children:["The Walrus Sites contracts have not changed, which means that all corresponding objects on Sui are\nstill valid. However, the resources now point to blob IDs that do not yet exist on the new Testnet.\nThe easiest way to fix existing sites is to simply update them with the ",(0,o.jsx)(n.code,{children:"--force"})," flag:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"site-builder update --epochs <number of epochs> --force <path to site> <existing site object>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"new-move-contracts--documentation",children:"New Move contracts & documentation"}),"\n",(0,o.jsxs)(n.p,{children:["As part of the new Testnet release of Walrus, the Move smart contracts have been updated; the\ndeployed version can be found in the ",(0,o.jsxs)(n.a,{href:"https://github.com/MystenLabs/walrus-docs/tree/main/contracts",children:[(0,o.jsx)(n.code,{children:"walrus-docs"}),"\nrepository"]}),"."]})]})}function h(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},9320(e){e.exports=JSON.parse('{"permalink":"/blog/05_testnet_redeployment","source":"@site/../blog/05_testnet_redeployment.mdx","title":"Announcing Testnet v2","description":"We are today redeploying the Walrus Testnet to incorporate various improvements, including some","date":"2025-01-16T00:00:00.000Z","tags":[],"readingTime":3.55,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Announcing Testnet v2","date":"2025-01-16T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Announcing Mainnet","permalink":"/blog/06_mainnet"},"nextItem":{"title":"Announcing Walrus: A Decentralized Storage and Data Availability Protocol","permalink":"/blog/01_announcing_walrus"}}')}}]);