<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-design/operations-off-chain" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Off-Chain Operations | Walrus Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.wal.app/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.wal.app/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.wal.app/docs/design/operations-off-chain"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Off-Chain Operations | Walrus Docs"><meta data-rh="true" name="description" content="Detailed explanation of Walrus off-chain operations including write paths, read operations, and storage node interactions."><meta data-rh="true" property="og:description" content="Detailed explanation of Walrus off-chain operations including write paths, read operations, and storage node interactions."><meta data-rh="true" name="keywords" content="walrus,off-chain operations,write paths,read operations,storage nodes,slivers,availability certificate,challenge mechanism"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.wal.app/docs/design/operations-off-chain"><link data-rh="true" rel="alternate" href="https://docs.wal.app/docs/design/operations-off-chain" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.wal.app/docs/design/operations-off-chain" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Walrus Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Walrus Docs Atom Feed">




<script>window.__COPY_PAGE_BUTTON_OPTIONS__={customStyles:{},enabledActions:["copy","view","chatgpt","claude"],id:"default"}</script>






<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="206d9923-4daf-4f2e-aeac-e7683daf5088" data-project-name="Walrus Knowledge" data-project-color="#37c3b0ff" data-button-hide="true" data-modal-title="Ask Walrus AI" data-modal-ask-ai-input-placeholder="Ask me anything about Walrus!" data-modal-example-questions="How do I store data on Walrus?,What is a blob?,What are Walrus Sites?,How much does storage cost?" data-modal-body-bg-color="#E0E2E6" data-source-link-bg-color="#FFFFFF" data-source-link-border="#37c3b0ff" data-answer-feedback-button-bg-color="#FFFFFF" data-answer-copy-button-bg-color="#FFFFFF" data-thread-clear-button-bg-color="#FFFFFF" data-modal-image="/img/logo.svg" async></script><link rel="stylesheet" href="/assets/css/styles.e33f3a8e.css">
<script src="/assets/js/runtime~main.33a37e07.js" defer="defer"></script>
<script src="/assets/js/main.13df632b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>

<script>window.__PLAUSIBLE_OPTS__={domain:"docs.wal.app",enableInDev:!1,trackOutboundLinks:!0,hashMode:!1,trackLocalhost:!1,id:"default"}</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_CeZ6" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Walrus" class="themedComponent_A7eq themedComponent--light_hrsq"><img src="/img/logo.svg" alt="Walrus" class="themedComponent_A7eq themedComponent--dark_wVAn"></div><b class="navbar__title text--truncate font-light text-xl">Walrus Docs</b></a><div class="flex flex-[8_1_0%] items-center justify-start gap-8 min-[1100px]:gap-8"></div></div><div class="navbar__items navbar__items--right"><div class="flex items-center gap-3"><div class="flex flex-[8_1_0%] items-center justify-start gap-8 min-[1100px]:gap-8"><a class="navbar__item navbar__link" href="/docs/getting-started">Data Storage</a><a class="navbar__item navbar__link" href="/docs/sites/introduction/components">Walrus Sites</a><a class="navbar__item navbar__link" href="/docs/operator-guide">Service Providers</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/MystenLabs/walrus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a></div><div class="theme-toggle-wrapper text-white max-[996px]:hidden"><div class="toggle_UVfo"><button class="clean-btn toggleButton_ZKVd toggleButtonDisabled_cgWZ" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_HanU lightToggleIcon_xKsG"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_HanU darkToggleIcon_hXM7"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_HanU systemToggleIcon_zSpL"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div><button type="button" class="kapa-trigger-btn flex items-center gap-2.5 cursor-pointer bg-white text-gray-900 font-semibold text-base px-5 py-2.5 rounded-full border border-gray-200 hover:bg-gray-50 transition-colors mx-2"><img src="/img/logo.svg" alt="" width="23" height="23">Ask Walrus AI</button><div class="navbarSearchContainer_rh3W"><button type="button" class="DocSearch DocSearch-Button flex items-center cursor-pointer"><span class="DocSearch-Button-Container flex"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder font-semibold">Search</span></span></button></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_IUiK"><div class="docsWrapper_tmH6"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_jImZ" type="button"></button><div class="docRoot_NmEI"><main class="docMainContainer_tw9L docMainContainerEnhanced_M9bE"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_FpTX"><div class="docItemContainer_xkhF"><article><div class="tocCollapsible_oYUn theme-doc-toc-mobile tocMobile_cpnN"><button type="button" class="clean-btn tocCollapsibleButton_z6cm">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Off-Chain Operations</h1></header><p>Walrus operations primarily occur off-chain on <!-- -->storage nodes<!-- -->, though they interact with the <a href="https://docs.sui.io/" target="_blank" rel="noopener noreferrer" class="">Sui blockchain</a> for <a class="" href="/docs/design/operations-sui">resource lifecycle management</a>. This page describes the complete off-chain operations for writing, reading, and managing <!-- -->blobs<!-- -->.</p>
<h2 class="anchor anchorTargetStickyNavbar_kP7e" id="write-operations">Write operations<a href="#write-operations" class="hash-link" aria-label="Direct link to Write operations" title="Direct link to Write operations" translate="no">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Write paths of Walrus" src="/assets/images/WriteFlow-a5c02d29e5afa38d8ef342e961f7404c.png" width="851" height="891" class="img_Lw_M"></p>
<h3 class="anchor anchorTargetStickyNavbar_kP7e" id="acquire-storage-resource">Acquire storage resource<a href="#acquire-storage-resource" class="hash-link" aria-label="Direct link to Acquire storage resource" title="Direct link to Acquire storage resource" translate="no">​</a></h3>
<p>You acquire a storage resource of appropriate size and duration on-chain, either by directly buying it from the Walrus system object or a secondary market. You can split, merge, and transfer owned storage resources.</p>
<h3 class="anchor anchorTargetStickyNavbar_kP7e" id="encode-and-compute-blob-id">Encode and compute <!-- -->blob ID<a href="#encode-and-compute-blob-id" class="hash-link" aria-label="Direct link to encode-and-compute-blob-id" title="Direct link to encode-and-compute-blob-id" translate="no">​</a></h3>
<p>When you want to store a <!-- -->blob<!-- -->, you first apply erasure coding to the <!-- -->blob<!-- -->, and then compute the <!-- -->blob ID<!-- --> from the encoded data. You can then perform the remaining write flow steps yourself, or use a <!-- -->publisher<!-- --> to perform the steps on your behalf.</p>
<h3 class="anchor anchorTargetStickyNavbar_kP7e" id="register-blob-id">Register <!-- -->blob ID<a href="#register-blob-id" class="hash-link" aria-label="Direct link to register-blob-id" title="Direct link to register-blob-id" translate="no">​</a></h3>
<p>Interact with Sui to update a storage resource and register the <!-- -->blob ID<!-- --> with the desired size and lifetime. This emits an event that the Walrus <!-- -->storage nodes<!-- --> receive. The upload continues after event confirmation.</p>
<h3 class="anchor anchorTargetStickyNavbar_kP7e" id="store-slivers">Store slivers<a href="#store-slivers" class="hash-link" aria-label="Direct link to Store slivers" title="Direct link to Store slivers" translate="no">​</a></h3>
<p>Send the <!-- -->blob metadata<!-- --> to all <!-- -->storage nodes<!-- -->. Each of the <!-- -->blob<!-- --> slivers are sent to the <!-- -->storage node<!-- --> that currently manages the corresponding <!-- -->shard<!-- -->.</p>
<h3 class="anchor anchorTargetStickyNavbar_kP7e" id="availability-certificate">Availability certificate<a href="#availability-certificate" class="hash-link" aria-label="Direct link to Availability certificate" title="Direct link to Availability certificate" translate="no">​</a></h3>
<p>A <!-- -->storage node<!-- --> managing a <!-- -->shard<!-- --> receives a <!-- -->sliver<!-- --> and checks it against the <!-- -->blob ID<!-- -->. It also checks that there is a <!-- -->blob<!-- --> resource with the <!-- -->blob ID<!-- --> that is authorized to store a <!-- -->blob<!-- -->. If correct, the <!-- -->storage node<!-- --> then signs a statement that it holds the <!-- -->sliver<!-- --> and returns it to you. Then, you can put together the signatures returned from <!-- -->storage nodes<!-- --> into an availability certificate.</p>
<h3 class="anchor anchorTargetStickyNavbar_kP7e" id="certify-blob-id">Certify <!-- -->blob ID<a href="#certify-blob-id" class="hash-link" aria-label="Direct link to certify-blob-id" title="Direct link to certify-blob-id" translate="no">​</a></h3>
<p>Submit an availability certificate to the chain. When the certificate is verified on-chain, an availability event for the <!-- -->blob ID<!-- --> is emitted, and all other <!-- -->storage nodes<!-- --> seek to download any missing shards for the <!-- -->blob ID<!-- -->. This event emitted by Sui is the <a class="" href="/docs/design/properties">point of availability (PoA)</a> for the <!-- -->blob ID<!-- -->.</p>
<p>After the <!-- -->PoA<!-- -->, and without your involvement, <!-- -->storage nodes<!-- --> sync and recover any missing metadata and slivers.</p>
<h3 class="anchor anchorTargetStickyNavbar_kP7e" id="effects-certificate-proves-availability">Effects certificate proves availability<a href="#effects-certificate-proves-availability" class="hash-link" aria-label="Direct link to Effects certificate proves availability" title="Direct link to Effects certificate proves availability" translate="no">​</a></h3>
<p>The <!-- -->certificate of availability<!-- --> is created from 2/3 of the returned <!-- -->shard<!-- --> signatures. The erasure code rate is below 1/3, meaning that <!-- -->reconstruction<!-- --> is allowed even if only 1/3 of shards return the <!-- -->sliver<!-- --> for a read. <a class="" href="/docs/design/architecture#byzantine-fault-tolerance">Because at most 1/3 of the storage nodes can fail</a>, this ensures <!-- -->reconstruction<!-- --> if you request slivers from all <!-- -->storage nodes<!-- -->. A <!-- -->publisher<!-- --> can mediate the full process by receiving a <!-- -->blob<!-- --> and driving the process to completion.</p>
<h2 class="anchor anchorTargetStickyNavbar_kP7e" id="read-operations">Read operations<a href="#read-operations" class="hash-link" aria-label="Direct link to Read operations" title="Direct link to Read operations" translate="no">​</a></h2>
<p>Reading <!-- -->blobs<!-- --> from Walrus can occur directly or through aggregators and caches. The operations are identical whether performed by end users, aggregators, or caches experiencing <!-- -->cache<!-- --> misses. In practice, most reads occur through caches for frequently accessed (hot) <!-- -->blobs<!-- --> and do not require requests to <!-- -->storage nodes<!-- -->.</p>
<p>The read flow consists of the following steps:</p>
<ol>
<li class="">Obtain the metadata for the <!-- -->blob ID<!-- --> from any <!-- -->storage node<!-- --> and authenticate it using the <!-- -->blob ID<!-- -->.</li>
<li class="">Send a request to the <!-- -->storage nodes<!-- --> for the shards corresponding to the <!-- -->blob ID<!-- --> and wait for (f+1) responses. Send sufficient requests in parallel to ensure low latency for reads.</li>
<li class="">Authenticate the slivers returned with the <!-- -->blob ID<!-- -->, reconstruct the <!-- -->blob<!-- -->, and decide whether the contents are valid or inconsistent.</li>
<li class="">Optionally, the result is cached and can be served without <!-- -->reconstruction<!-- --> until it is evicted from the <!-- -->cache<!-- -->. Requests to the <!-- -->cache<!-- --> for the <!-- -->blob<!-- --> return the <!-- -->blob<!-- --> contents or an <!-- -->inconsistency proof<!-- -->.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_kP7e" id="refresh-availability">Refresh availability<a href="#refresh-availability" class="hash-link" aria-label="Direct link to Refresh availability" title="Direct link to Refresh availability" translate="no">​</a></h2>
<p>Because no <!-- -->blob<!-- --> content is involved, refresh operations are conducted entirely through the Sui protocol. To extend <!-- -->blob<!-- --> availability, provide an appropriate on-chain storage resource. Upon success, <!-- -->storage nodes<!-- --> receive an emitted event to extend the storage duration for each <!-- -->sliver<!-- -->.</p>
<h2 class="anchor anchorTargetStickyNavbar_kP7e" id="inconsistency-handling">Inconsistency handling<a href="#inconsistency-handling" class="hash-link" aria-label="Direct link to Inconsistency handling" title="Direct link to Inconsistency handling" translate="no">​</a></h2>
<p>After the <!-- -->PoA<!-- -->, a correct <!-- -->storage node<!-- --> attempting to reconstruct a <!-- -->sliver<!-- --> might fail if <!-- -->blob<!-- --> encoding was incorrect. In this case, the node can extract an <!-- -->inconsistency proof<!-- --> for the <!-- -->blob ID<!-- -->. It then uses the proof to create an <!-- -->inconsistency certificate<!-- --> and uploads it on-chain.</p>
<p>The flow is as follows:</p>
<ol>
<li class="">A <!-- -->storage node<!-- --> fails to reconstruct a <!-- -->sliver<!-- -->, and instead computes an <!-- -->inconsistency proof<!-- -->.</li>
<li class="">The <!-- -->storage node<!-- --> sends the <!-- -->blob ID<!-- --> and <!-- -->inconsistency proof<!-- --> to all <!-- -->storage nodes<!-- --> of the Walrus epoch. The <!-- -->storage nodes<!-- --> verify the proof and sign it.</li>
<li class="">The <!-- -->storage node<!-- --> that found the inconsistency aggregates the signatures into an <!-- -->inconsistency certificate<!-- --> and sends it to the <a href="https://docs.sui.io/guides/developer/sui-101/move-package-management" target="_blank" rel="noopener noreferrer" class="">Sui smart contract</a>, which verifies it and emits an inconsistent resource event.</li>
<li class="">Upon receiving an inconsistent resource event, correct <!-- -->storage nodes<!-- --> delete <!-- -->sliver<!-- --> data for the <!-- -->blob ID<!-- --> and record in the metadata to return <code>None</code> for the <!-- -->blob<!-- --> during the <a class="" href="/docs/design/properties">availability period</a>. No <!-- -->storage attestation<!-- --> challenges are issued for this <!-- -->blob ID<!-- -->.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_kP7e" id="reading-inconsistent-blobs">Reading inconsistent <!-- -->blobs<a href="#reading-inconsistent-blobs" class="hash-link" aria-label="Direct link to reading-inconsistent-blobs" title="Direct link to reading-inconsistent-blobs" translate="no">​</a></h3>
<p>A <!-- -->blob ID<!-- --> marked as inconsistent always resolves to <code>None</code> upon reading. This occurs because the read process re-encodes the received <!-- -->blob<!-- --> to verify that the <!-- -->blob ID<!-- --> was derived from consistent encoding.</p>
<p>An <!-- -->inconsistency proof<!-- --> reveals only a true fact to <!-- -->storage nodes<!-- --> (which do not otherwise run decoding) and does not change read output in any case.</p>
<p>However, partial reads leveraging the systematic nature of the encoding might successfully return partial data for inconsistently encoded files. If consistency and availability of reads is important, perform full reads rather than partial reads.</p>
<h2 class="anchor anchorTargetStickyNavbar_kP7e" id="challenge-mechanism-for-storage-attestation">Challenge mechanism for <!-- -->storage attestation<a href="#challenge-mechanism-for-storage-attestation" class="hash-link" aria-label="Direct link to challenge-mechanism-for-storage-attestation" title="Direct link to challenge-mechanism-for-storage-attestation" translate="no">​</a></h2>
<p>During an epoch, a correct <!-- -->storage node<!-- --> challenges all shards to provide symbols for <!-- -->blob<!-- --> slivers past <!-- -->PoA<!-- -->:</p>
<ul>
<li class="">
<p>The list of available <!-- -->blobs<!-- --> for the epoch is determined by the sequence of Sui events up to the past epoch. Inconsistent <!-- -->blobs<!-- --> are not challenged, and a record proving this status can be returned instead.</p>
</li>
<li class="">
<p>A challenge sequence is determined by providing a seed to the challenged <!-- -->shard<!-- -->. The sequence is then computed based on the seed <strong>and</strong> the content of each challenged <!-- -->blob ID<!-- -->. This creates a sequential read dependency.</p>
</li>
<li class="">
<p>The response to the challenge provides the sequence of <!-- -->shard<!-- --> contents for the <!-- -->blob<!-- --> IDs in a timely manner.</p>
</li>
<li class="">
<p>The challenger node uses thresholds to determine whether the challenge was passed, and reports the result on-chain.</p>
</li>
<li class="">
<p>The challenge and response communication is authenticated.</p>
</li>
</ul>
<p>Challenges provide some reassurance that the <!-- -->storage node<!-- --> can actually recover <!-- -->shard<!-- --> data in a probabilistic manner, avoiding <!-- -->storage nodes<!-- --> getting payment without any evidence they might retrieve <!-- -->shard<!-- --> data. The sequential nature of the challenge and some reasonable timeout also ensures that the process is timely.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_f0nt"><a href="https://github.com/MystenLabs/walrus/tree/main/docs/../content/design/operations-off-chain.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_lXe4" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_K8Fr"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_WCYx thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#write-operations" class="table-of-contents__link toc-highlight">Write operations</a><ul><li><a href="#acquire-storage-resource" class="table-of-contents__link toc-highlight">Acquire storage resource</a></li><li><a href="#encode-and-compute-blob-id" class="table-of-contents__link toc-highlight">Encode and compute blob ID</a></li><li><a href="#register-blob-id" class="table-of-contents__link toc-highlight">Register blob ID</a></li><li><a href="#store-slivers" class="table-of-contents__link toc-highlight">Store slivers</a></li><li><a href="#availability-certificate" class="table-of-contents__link toc-highlight">Availability certificate</a></li><li><a href="#certify-blob-id" class="table-of-contents__link toc-highlight">Certify blob ID</a></li><li><a href="#effects-certificate-proves-availability" class="table-of-contents__link toc-highlight">Effects certificate proves availability</a></li></ul></li><li><a href="#read-operations" class="table-of-contents__link toc-highlight">Read operations</a></li><li><a href="#refresh-availability" class="table-of-contents__link toc-highlight">Refresh availability</a></li><li><a href="#inconsistency-handling" class="table-of-contents__link toc-highlight">Inconsistency handling</a><ul><li><a href="#reading-inconsistent-blobs" class="table-of-contents__link toc-highlight">Reading inconsistent blobs</a></li></ul></li><li><a href="#challenge-mechanism-for-storage-attestation" class="table-of-contents__link toc-highlight">Challenge mechanism for storage attestation</a></li><li class="border border-solid border-transparent !mt-4 border-t-suins-gray-20 dark:border-t-suins-white-20"><div class="feedback-widget margin-top--md margin-bottom--md toc-feedback__row"><div class="margin-bottom--sm text-wal-gray-50 dark:text-wal-white-80"><b>Was this page helpful?</b></div><div class="flex"><span class="feedback-widget-positive"><feedback-button project="ilacd94goh" rating="1" custom-font="True" button-style="default" modal-position="center"><button class="button button--outline button--primary button--sm !inline-flex items-center" title="Yes"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg><span class="pl-1">Yes</span></button></feedback-button></span><span class="feedback-widget-negative margin-left--sm"><feedback-button project="ilacd94goh" rating="0" custom-font="True" button-style="default" modal-position="center"><button class="button button--outline button--primary button--sm !inline-flex items-center" title="No"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path></svg><span class="pl-1">No</span></button></feedback-button></span></div></div></li></ul></div></div></div></div></main></div></div></div><footer class="bg-wal-purple-darker py-6 border-t border-wal-green-dark"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center flex-wrap gap-2"><span class="text-wal-white text-sm">Copyright © 2026
                    Walrus Foundation. All rights reserved.</span><div class="text-wal-white-70"><a class="text-wal-white-70 hover:text-wal-white-100" href="/docs/legal/privacy">Privacy</a> <!-- -->•<!-- --> <a class="text-wal-white-70 hover:text-wal-white-100" href="/docs/legal/walrus_general_tos">TOS</a> <!-- -->•<!-- --> <a class="text-wal-white-70 hover:text-wal-white-100" href="/docs/legal/testnet_tos">Tesnet TOS</a></div><div class="flex gap-4"><a href="http://discord.gg/walrusprotocol" target="_blank" rel="noopener noreferrer" class="!text-wal-white-70 hover:!text-wal-white-100 transition-colors duration-200 flex items-center mr-1" aria-label="Join us on Discord"><svg data-prefix="fab" data-icon="discord" class="svg-inline--fa fa-discord fa-lg" role="img" viewBox="0 0 576 512" aria-hidden="true"><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1 .1s-.6 .4-.8 .8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2c-41.3 7.1-81.6 19.6-119.7 37.1-.3 .1-.6 .4-.8 .7-76.2 113.8-97.1 224.9-86.9 334.5 0 .3 .1 .5 .2 .8s.3 .4 .5 .6c44.4 32.9 94 58 146.8 74.2 .4 .1 .8 .1 1.1 0s.7-.4 .9-.7c11.3-15.4 21.4-31.8 30-48.8 .1-.2 .2-.5 .2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6 .2-.9 .3-.5 .6-.7c3.1-2.3 6.2-4.7 9.1-7.1 .3-.2 .6-.4 .9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1 .7-.2 1-.2s.7 .2 .9 .4c2.9 2.4 6 4.9 9.1 7.2 .2 .2 .4 .4 .6 .7s.2 .6 .2 .9-.1 .6-.3 .9-.4 .5-.6 .6c-14.7 8.6-30 15.9-45.9 21.8-.2 .1-.5 .2-.7 .4s-.3 .4-.4 .7-.1 .5-.1 .8 .1 .5 .2 .8c8.8 17 18.8 33.3 30 48.8 .2 .3 .6 .6 .9 .7s.8 .1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2 .2-.2 .4-.4 .5-.6s.2-.5 .2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2zm195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2z"></path></svg></a><a href="https://x.com/walrusprotocol" target="_blank" rel="noopener noreferrer" class="!text-wal-white-70 hover:!text-wal-white-100 transition-colors duration-200 flex items-center mr-1" aria-label="Follow us on Twitter"><svg data-prefix="fab" data-icon="x-twitter" class="svg-inline--fa fa-x-twitter fa-lg" role="img" viewBox="0 0 448 512" aria-hidden="true"><path fill="currentColor" d="M357.2 48L427.8 48 273.6 224.2 455 464 313 464 201.7 318.6 74.5 464 3.8 464 168.7 275.5-5.2 48 140.4 48 240.9 180.9 357.2 48zM332.4 421.8l39.1 0-252.4-333.8-42 0 255.3 333.8z"></path></svg></a><a href="https://github.com/MystenLabs/walrus" target="_blank" rel="noopener noreferrer" class="!text-wal-white-70 hover:!text-wal-white-100 transition-colors duration-200 flex items-center" aria-label="View source on GitHub"><svg data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-lg" role="img" viewBox="0 0 512 512" aria-hidden="true"><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div></div></div></footer></div>
</body>
</html>